<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Creative Age Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Shake animation */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }
        .shake {
            animation: shake 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-r from-blue-100 to-purple-200 min-h-screen flex items-center justify-center p-5">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-lg w-full">
        <h1 class="text-3xl font-extrabold text-center mb-6 text-purple-600">Life Calculator</h1>

        <!-- Name Input -->
        <div class="mb-4">
            <label for="name" class="block text-gray-700 font-medium mb-1">Enter your Name:</label>
            <input
                type="text"
                id="name"
                placeholder="Your full name"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            />
        </div>

        <!-- DOB Input -->
        <div class="mb-4">
            <label for="dob" class="block text-gray-700 font-medium mb-1">Enter your Date of Birth:</label>
            <input
                type="text"
                id="dob"
                placeholder="dd-mm-yyyy"
                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
            />
        </div>

        <!-- Button -->
        <button
            id="calculateBtn"
            class="w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-3 rounded-lg transition duration-200"
        >
            Calculate Age
        </button>

        <!-- Loading Bar -->
        <div id="loadingBarContainer" class="hidden w-full bg-gray-300 rounded-lg mt-4">
            <div id="loadingBar" class="h-3 bg-purple-500 rounded-lg" style="width: 0%"></div>
        </div>

        <!-- Messages -->
        <div id="message" class="mt-4 hidden p-3 rounded-lg"></div>

        <!-- Results -->
        <div id="results" class="mt-6">
            <p id="result" class="text-lg font-medium text-gray-800 mb-4"></p>
            <ul id="milestones" class="list-disc pl-5 space-y-1"></ul>
            <!-- Life Advice Card -->
            <div id="lifeAdviceCard" class="mt-6 p-4 border border-purple-300 rounded-lg bg-purple-50 text-purple-700 font-semibold hidden"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>    
    <script>
        const nameInput = document.getElementById("name");
        const dobInput = document.getElementById("dob");
        const messageDiv = document.getElementById("message");
        const resultDiv = document.getElementById("result");
        const milestonesList = document.getElementById("milestones");
        const calculateBtn = document.getElementById("calculateBtn");
        const loadingBarContainer = document.getElementById("loadingBarContainer");
        const loadingBar = document.getElementById("loadingBar");
        const lifeAdviceCard = document.getElementById("lifeAdviceCard");

        const marriageMessages = [
            "เดจเดฟเดจเดเตเดเต เดตเดฟเดตเดพเดนเด เดเดฒเตเดฒโฆ family WhatsApp group-เดฒเตเด hope เดเดฒเตเดฒ!",
            "เดตเดฟเดตเดพเดนเด? เดเดคเต เดเดฐเต เดจเดฟเดเตเดเต เดจเดฟเดฎเดฟเดทเด เดจเตเดฃเตเด เดเดฟเดเดชเตเดชเต เดฎเดคเดฟ!",
            "เดตเดฟเดตเดพเดนเด เดเดฃเต? เดเดจเตเดคเต เดชเดฑเดเตเดเดพเดฒเตเด เดเดนเต, เดเดฒเตเดฒเดฒเตเดฒเต!",
            "เดตเดฟเดตเดพเดนเด เดซเดฒเดชเตเดฐเดฆเดฎเดฒเตเดฒ, เดซเตเดฐเต WiFi เดฎเดพเดคเตเดฐเดฎเต เดเดฟเดเตเดเต!",
            "เดจเดฟเดจเตเดฑเต เดตเดฟเดตเดพเดนเด เดซเดฏเตฝ เดฒเดพเดธเตเดฑเตเดฑเต เดธเตเดตเต เดเตเดฏเตเดฏเดชเตเดชเตเดเตเดจเตเดจเดฟเดฒเตเดฒ!",
            "เดจเดฟเดจเดเตเดเต เดตเดฟเดตเดพเดนเด? เดเดฆเตเดฏเด เดจเดฟเดจเดเตเดเต เดซเตเดฐเต WiFi เดเดฟเดเตเดเดฃเต!",
            "เดตเดฟเดตเดพเดนเด? เดเดพเดจเตโ เดเดฑเตเดฑเต เดจเตเดเตเดเตเดฎเตเดชเตเดณเตโ เดฌเตเดเตเดเต เดตเดพเดเตเดเดพเดจเดพเดฏเตเดเตเดเตเด!",
            "เดตเดฟเดตเดพเดนเด เดตเดฐเตเด, เดชเดเตเดทเต เดธเตเดฑเตเดฑเต เดฑเดฟเดธเตผเดตเตเดทเตป เดชเตเดฒเตเดฏเดพเดฃเต!",
            "เดจเดฟเดจเดเตเดเต เดตเดฟเดตเดพเดนเด? เดเดฆเตเดฏเด เดชเดฃเดตเตเด เดทเตเดเตเดเตเด เดธเดเตเดเดฎเดพเดเตเดเต!",
            "เดตเดฟเดตเดพเดนเด เดชเดฑเดฏเตเดฎเตเดชเตเตพ, เด WhatsApp เดธเตเดฑเตเดฑเดพเดฑเตเดฑเดธเต เดฎเดพเดฑเตเดฑเดพเดจเดพเดเดฟเดฒเตเดฒ!",
            "เดตเดฟเดตเดพเดนเด? เดเดฆเตเดฏเด Netflix เดธเดฌเตเดธเตเดเตเดฐเดฟเดชเตเดทเตป เดชเตเดฏเต เดเตเดฏเตเดฏเต!",
            "เดจเดฟเดจเตเดฑเต เดตเดฟเดตเดพเดนเด? เดเดฐเต เดเตบเดฒเตเตป เดนเตเดณเดฟเดกเต เดชเตเดฒเตเดฏเดพเดฃเต!",
            "เดตเดฟเดตเดพเดนเด เดตเดฐเตเด, เดชเดเตเดทเต เดเดจเตเดจเต เดชเตเดชเตเดชเตผ เดตเตผเดเตเดเตเด เดเตเดเดฟ เดตเตเดฃเด!",
            "เดตเดฟเดตเดพเดนเด? เดซเดฒเดชเตเดฐเดฆเดค เดเตเดฑเดตเดพเดฏ เดเดฐเต เดเดกเตเดฎเดฟเดจเดฟเดธเตโเดเตเดฐเตเดฑเตเดฑเตเดตเต เดเดพเดธเตเดเต!",
            "เดจเดฟเดจเดเตเดเต เดตเดฟเดตเดพเดนเด? เดเดฆเตเดฏเด เดจเดฟเดจเดเตเดเต เดเดฐเต เดนเตเดเดตเตผเดเตเดเตเด เดตเตเดฃเด!",
            "เดตเดฟเดตเดพเดนเด? เดเดคเตเดฐเต เดกเตเดฒเดฟเดตเดฑเดฟ เดเตผเดกเตผ เดชเตเดฒเต เดตเดฐเตเด!",
            "เดจเดฟเดจเตเดฑเต เดตเดฟเดตเดพเดนเด? เดเดฒเตเดฒเดพเด เดชเตเดฒเดพเดจเดฟเตฝ เดเดฃเตเดเตเดเดฟเตฝ เดฎเดพเดคเตเดฐเดฎเต เดธเดพเดงเดฟเดเตเดเต!",
            "เดตเดฟเดตเดพเดนเด เดตเดฐเตเด, เดชเดเตเดทเต เดธเตเดฒเต เดฎเตเดทเตป เดชเตเดฒเต!",
            "เดตเดฟเดตเดพเดนเด? เดเดฆเตเดฏเด เดจเดฟเดจเตเดฑเต เดซเตเตบ เดเดพเตผเดเต เดเตเดฏเตเดฏเต!",
            "เดจเดฟเดจเตเดฑเต เดตเดฟเดตเดพเดนเด? เดเดคเตเดฐเต เดตเตเดกเดฟเดฏเต เดเตเดฏเดฟเด เดฒเตเดตเดฒเดพเดฃเต!"
        ];

        const deathMessages = [
            "เดฎเดฐเดฃเดฎเตเดจเตเดจเดคเต เดเดฑเดชเตเดชเดพเดฃเต, เดชเดเตเดทเต เดเดชเตเดชเตเตพเดเตเดเดฒเตเดฒ... เดเดคเตเดตเดฐเต Netflix-เตฝ เดเดจเตเดคเดพเดฃเดพ เดเดพเดฃเดพเตป เดชเตเดเตเดจเตเดจเดคเต?",
            "เดเดจเดฟ เดเดฟเดเดเตเดเดพเดคเต เดเตเดตเดฟเดคเด เดเดธเตเดตเดฆเดฟเดเตเดเต, เดเดจเดเดณเต เดเดพเดฃเดพเตป เดเดงเดฟเด เดธเดฎเดฏเด เดเดฃเตเดเดฒเตเดฒเต!",
            "เดตเดฏเดธเดพเดฏเดพเตฝ เดเดฑเดชเตเดชเตเด เดชเตเดตเดพเด, เดชเดเตเดทเต เดเดจเดฟเดฏเตเด เดเดพเดฏ เดเตเดเดฟเดเตเดเดพเด!",
            "เดธเดฎเดฏเดฎเตเดคเตเดคเตเด, เดชเดเตเดทเต เดเดฆเตเดฏเด เดเตเดฑเตเดชเตเดดเดฏเดฟเตฝ เดเดชเตเดช เดจเดพเดเดเด เดเดพเดฃเดพเด!",
            "เดฎเดฐเดฟเดเตเดเต เดชเตเดเดฐเตเดคเต, เดตเตเดเตเดเดฟเดฒเต WhatsApp เดเตเดฐเตเดชเตเดชเดฟเตฝ เดจเดฟเดจเตเดจเต เดเตเดเตเดเดฟเดชเตเดชเตเดเตเด!",
            "เดเดจเตเดจเดฒเต เดฎเดพเดคเตเดฐเด เดธเตเดเด เดเตเดฃเตเดเดฟเดฐเตเดจเตเดจเต? เดเดจเดฟ เดเดดเดฟเดเตเดเตเดณเตเดณเดคเต เดตเดฐเตเด!",
            "เดฎเดฐเดฃเดตเดฟเดตเดฐเด เดฒเดญเดฟเดเตเดเต, เดชเดเตเดทเต เดฎเตเดจเตเดจเตเดจเตเดจเต เดเตเดเดฟ เดเตเดเดฟเดเตเดเดฃเด!",
            "เดธเดฎเดฏเดคเตเดคเตเดณเด เดเดฟเดเดเตเดเดพเดคเต เดชเดพเดเตเดเต เดชเดพเดเต, เดฎเดฐเดฃเด เดเดพเดคเตเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต!",
            "เดเดจเดฟ เดตเตเดฆเดจเดฏเดฟเดฒเตเดฒ, เดชเดเตเดทเต เดเดชเตเดชเตเตพ เดตเดฟเดทเดฎเด เดเดจเตเดญเดตเดฟเดเตเดเต!",
            "เดฎเดฐเดฃเด เดตเดฐเตเด, เดชเดเตเดทเต เดจเดพเดณเต เดจเตเดฃเตเด เดธเตเดจเตเดน เดชเดพเดเต เดเตเตพเดเตเดเดพเด!",
            "เดเดตเดธเดพเดจ เดตเดพเดเตเดเตเดเตพ เดชเดฑเดฏเดพเตป เดฎเตเตปเดชเต, เดเดพเดฏเดเตเดเต เดเดฐเต เดเตเดฎเดเตเดเต!",
            "เดเดจเดฟ เดเดฟเดเดเตเดเดพเตป เดเดเตเดฐเดนเดฟเดเตเดเตเดจเตเดจเดฟเดฒเตเดฒเตเดเตเดเดฟเตฝ, เดฎเดฐเดฃเด เดตเดจเตเดจเต เดเดจเตเดจเต เดเดฐเตเดคเต!",
            "เดเดจเดฟ เดเดณเดฟ เดเดณเดฟเดเตเดเดพเตป เดธเดฎเดฏเด เดเตเดฑเดตเดพเดฃเต, เดชเดเตเดทเต เดชเดฐเดฟเดถเตเดฐเดฎเด เดตเตเดฃเด!",
            "เดฎเดฐเดฃเด เดเดฐเต เดธเตเดฑเตเดฑเตเดชเตเดชเต เดธเดฟเดเตเดจเดฒเดพเดฃเต, เดชเดเตเดทเต เดเดฟเดเดเตเดเดพเตป เดเดพเดคเตเดคเดฟเดฐเดฟเดเตเดเดฃเด!",
            "เดเดจเดฟ เดจเดฟเดจเตเดจเต เดเดพเดฃเดพเตป เดเตเดดเดฟเดเตเดเตเดเตเดเต เดตเดฐเดพเด, เดฎเดฐเดฃเดคเตเดคเดฟเดจเต เดถเตเดทเด เดฎเดพเดคเตเดฐเด!",
            "เดฎเดฐเดฃเดคเตเดคเดฟเดจเต เดฎเตเดฎเตเดชเต เดเดฐเต เดคเดตเดฃ 'เดเดพเดฏ' เดตเดพเดเตเดเต!",
            "เดเดจเดฟ เดชเดดเดฏเดเดฅเดเตพ เดชเดฑเดเตเดเต, เดฎเดฐเดฃเด เดเตเตพเดเตเดเดพเตป เดคเดฏเตเดฏเดพเดฑเดพเดเต!",
            "เดฎเดฐเดฃเดฎเตเดจเตเดจเดคเต เดเดฐเต เดเตเดเตเดเตเดชเดฃเดฟ, เดชเดเตเดทเต เดจเต เดเดฑเตเดฑเดฏเตเดเตเดเดฒเตเดฒ!",
            "เดเดจเดฟ เดเดฟเดฐเดฟเดเตเดเดพเตป เดเตเดฑเดเตเดเต เดเตเดเดฟ เดธเดฎเดฏเด เดเดฃเตเดเตเดเตเดเดฟเดฒเตเด, เดฎเดฐเดฃเด เดตเดฐเตเด!",
            "เดเดตเดธเดพเดจเด เดตเดจเตเดจเต เดเตเดเตเดฎเตเดชเตเตพ, เดเดคเต เดเดฐเต เดจเดฒเตเดฒ เดชเดพเดเตเดเดพเดเดพเด!"
        ];

        // Malayalam sarcastic roast style life advice cards
        const lifeAdvice = [
          { maxAge: 12, advice: "เดเตเดเตเดเต, เดชเดพเดเดชเตเดธเตเดคเดเด เดตเดพเดฏเดฟเดเตเดเดฃเด เดเดฒเตเดฒเต? YouTube-เตฝ เดฎเดพเดคเตเดฐเด เดเดฃเตเดเต เดคเตเดฐเดฟเดฒเตเดฒ." },
          { maxAge: 18, advice: "เดชเดเดจเด เดเดฟเดเตเดเดฟเดฒเตเดฒเต? เดเดเตเดเดฟเตฝ Netflix เดธเดฌเตเดธเตเดเตเดฐเดฟเดชเตเดทเตป เดเตเดฑเดเตเดเดพเตป เดธเดฎเดฏเดฎเดพเดฃเต." },
          { maxAge: 30, advice: "เดตเดฒเดฟเดฏ เดเดณเดพเดฏเดคเดฒเตเดฒเต? เดชเดฃเดตเตเด เดเตเดตเดฟเดคเดตเตเด เดคเดฎเตเดฎเดฟเตฝ เดชเดฑเตเดฑเดฟเดชเตเดชเตเดเตเดเดพเตป เดชเดเดฟเดเตเดเต." },
          { maxAge: 50, advice: "เดตเดฏเดธเดพเดฏเดฟ, เดชเดเตเดทเต เดฎเดคเดฟ, เดฌเดธเตเดธเต เดฎเดคเดฟโฆ เดเดคเดฟเดฒเตเด เดเดเดจเตเดจเต เดชเตเดตเดพเตป เดชเดเดฟเดเตเดเต." },
          { maxAge: 80, advice: "เดจเดฟเดจเดเตเดเต เดเดฑเดฟเดเตเดเต เดชเดฑเดฏเดพเด, เดเตเดตเดฟเดคเด เดคเดเตเดเตเดจเตเดจเต เดเดฏเดพเดฒเตเด เดตเดฃเตเดเดฟ เดเดเดฟเดเตเดเตเดจเตเดจเดชเตเดฒเต." },
          { maxAge: 200, advice: "เดเดดเดฟเดเตเด เดเดพเดฒเดเตเดเดณเดฟเดฒเต เดชเดฃเตเดเดพเดฐเดคเตเดคเดฟเดฐเดฟเดเดฅเดเดณเดฒเตเดฒเต เดเตเดเตเดเดฟเดเตเดเตเดณเตเดณเดคเต? เดเดจเดฟ เดเดคเตเด เดฎเตเดเตเดเดฟเดตเดฏเตเดเตเดเดพเด." }
        ];

        function showMessage(msg, type) {
            messageDiv.textContent = msg;
            messageDiv.className = `mt-4 p-3 rounded-lg text-white ${type === "error" ? "bg-red-500" : "bg-green-500"}`;
            messageDiv.classList.remove("hidden");
        }

        function getLifeAdvice(age) {
            for (const adviceObj of lifeAdvice) {
                if (age <= adviceObj.maxAge) {
                    return adviceObj.advice;
                }
            }
            return "เดเตเดตเดฟเดคเด เดตเดฒเดฟเดฏ เดเดณเดฟเดฏเดพเดฃเต, เดเดคเต เดเดธเตเดตเดฆเดฟเดเตเดเต!";
        }

        function showResults(userName, birthDate, years, months, days) {
            // Display age
            resultDiv.textContent = `Hello ${userName}! You are ${years} years, ${months} months, and ${days} days old.`;

            // Calculate total days lived (approximate)
            const totalDays = years * 365 + months * 30 + days;

            // Calculate total minutes lived
            const totalMinutes = totalDays * 24 * 60;

            // Average blinks per minute
            const blinksPerMinute = 15;

            // Total blinks
            const totalBlinks = Math.round(totalMinutes * blinksPerMinute);

            // Create or update blink count element
            let blinkElem = document.getElementById("blinkCount");
            if (!blinkElem) {
                blinkElem = document.createElement("p");
                blinkElem.id = "blinkCount";
                blinkElem.className = "text-gray-700 text-md font-semibold mb-4";
                resultDiv.parentNode.insertBefore(blinkElem, milestonesList);
            }
            blinkElem.textContent = `๐๏ธ You have blinked approximately ${totalBlinks.toLocaleString()} times since you were born!`;

            // Show a sarcastic life advice card based on age
            const advice = getLifeAdvice(years);
            lifeAdviceCard.textContent = `๐ฅ เดเตเดตเดฟเดค เดเดชเดฆเตเดถเด: ${advice}`;
            lifeAdviceCard.classList.remove("hidden");

            function randomBetween(min, max) {
               return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            // Calculate milestones from birthDate
            const milestones = [
                { label: "1st Birthday", yearsToAdd: 1 },
                { label: "18th Birthday", yearsToAdd: 18 },
                { label: "21st Birthday", yearsToAdd: 21 },
                { label: "50th Birthday", yearsToAdd: 50 },
                { label: "100th Birthday", yearsToAdd: 100 },
                { label: "Marriage Date (est.)", yearsToAdd: randomBetween(25, 35) },
                { label: "Estimated Date of Death", yearsToAdd: randomBetween(75, 95) },
            ];

            milestonesList.innerHTML = "";

            milestones.forEach((ms) => {
                const milestoneDate = new Date(
                    birthDate.getFullYear() + ms.yearsToAdd,
                    birthDate.getMonth(),
                    birthDate.getDate()
                );
                const dateStr = milestoneDate.toLocaleDateString("en-GB");

                let msg = "";
                if (ms.label === "Marriage Date (est.)") {
                    const marriageMsg = marriageMessages[Math.floor(Math.random() * marriageMessages.length)];
                    msg = `${ms.label}: ${dateStr} โ ${marriageMsg}`;
                } else if (ms.label === "Estimated Date of Death") {
                    const deathMsg = deathMessages[Math.floor(Math.random() * deathMessages.length)];
                    msg = `${ms.label}: ${dateStr} โ ${deathMsg}`;
                } else {
                    msg = `${ms.label}: ${dateStr}`;
                }

                const li = document.createElement("li");
                li.textContent = msg;
                li.className = "text-gray-700";
                milestonesList.appendChild(li);
            });

            // Confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
            });
        }

        function calculateAge() {
            const userName = nameInput.value.trim();
            const dobStr = dobInput.value.trim();

            if (!userName) {
                showMessage("Please enter your name.", "error");
                nameInput.classList.add("shake");
                setTimeout(() => nameInput.classList.remove("shake"), 500);
                return;
            }

            if (!dobStr) {
                showMessage("Please enter your date of birth.", "error");
                dobInput.classList.add("shake");
                setTimeout(() => dobInput.classList.remove("shake"), 500);
                return;
            }

            // Validate DOB format dd-mm-yyyy
            const dobPattern = /^(\d{2})-(\d{2})-(\d{4})$/;
            const match = dobStr.match(dobPattern);
            if (!match) {
                showMessage("Invalid date format. Use dd-mm-yyyy.", "error");
                dobInput.classList.add("shake");
                setTimeout(() => dobInput.classList.remove("shake"), 500);
                return;
            }

            const day = parseInt(match[1], 10);
            const month = parseInt(match[2], 10) - 1; // zero-based month
            const year = parseInt(match[3], 10);

            const birthDate = new Date(year, month, day);
            if (
                birthDate.getFullYear() !== year ||
                birthDate.getMonth() !== month ||
                birthDate.getDate() !== day
            ) {
                showMessage("Invalid date. Please enter a real date.", "error");
                dobInput.classList.add("shake");
                setTimeout(() => dobInput.classList.remove("shake"), 500);
                return;
            }

            const now = new Date();
            if (birthDate > now) {
                showMessage("You are not born yet! Enter a valid past date.", "error");
                dobInput.classList.add("shake");
                setTimeout(() => dobInput.classList.remove("shake"), 500);
                return;
            }

            // Reset UI and show loading bar
            messageDiv.classList.add("hidden");
            resultDiv.textContent = "";
            milestonesList.innerHTML = "";
            lifeAdviceCard.classList.add("hidden");
            loadingBarContainer.classList.remove("hidden");
            loadingBar.style.width = "0%";

            // Animate loading bar over 2.5 seconds
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    loadingBarContainer.classList.add("hidden");
                    // Calculate age in years, months, days
                    let years = now.getFullYear() - birthDate.getFullYear();
                    let months = now.getMonth() - birthDate.getMonth();
                    let days = now.getDate() - birthDate.getDate();

                    if (days < 0) {
                        months--;
                        days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
                    }
                    if (months < 0) {
                        years--;
                        months += 12;
                    }

                    showResults(userName, birthDate, years, months, days);
                } else {
                    width += 2;
                    loadingBar.style.width = width + "%";
                }
            }, 50);
        }

        calculateBtn.addEventListener("click", calculateAge);
    </script>
</body>
</html>
